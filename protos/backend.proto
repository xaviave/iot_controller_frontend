syntax = "proto3";

package base_app.products_controller;

import "google/protobuf/empty.proto";
import "google/protobuf/struct.proto";

service CategoryController {
    rpc Create(CategoryRequest) returns (CategoryResponse) {}
    rpc Destroy(CategoryDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(CategoryListRequest) returns (CategoryListResponse) {}
    rpc PartialUpdate(CategoryPartialUpdateRequest) returns (CategoryResponse) {}
    rpc Retrieve(CategoryRetrieveRequest) returns (CategoryResponse) {}
    rpc Update(CategoryRequest) returns (CategoryResponse) {}
}

service ClockedScheduleController {
    rpc Create(ClockedScheduleRequest) returns (ClockedScheduleResponse) {}
    rpc Destroy(ClockedScheduleDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(ClockedScheduleListRequest) returns (ClockedScheduleListResponse) {}
    rpc PartialUpdate(ClockedSchedulePartialUpdateRequest) returns (ClockedScheduleResponse) {}
    rpc Retrieve(ClockedScheduleRetrieveRequest) returns (ClockedScheduleResponse) {}
    rpc Update(ClockedScheduleRequest) returns (ClockedScheduleResponse) {}
}

service CoffeeMachineController {
    rpc Create(CoffeeMachineRequest) returns (CoffeeMachineResponse) {}
    rpc Destroy(CoffeeMachineDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(CoffeeMachineListRequest) returns (CoffeeMachineListResponse) {}
    rpc PartialUpdate(CoffeeMachinePartialUpdateRequest) returns (CoffeeMachineResponse) {}
    rpc Retrieve(CoffeeMachineRetrieveRequest) returns (CoffeeMachineResponse) {}
    rpc Update(CoffeeMachineRequest) returns (CoffeeMachineResponse) {}
}

service ColorModeController {
    rpc Create(ColorModeRequest) returns (ColorModeResponse) {}
    rpc Destroy(ColorModeDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(ColorModeListRequest) returns (ColorModeListResponse) {}
    rpc PartialUpdate(ColorModePartialUpdateRequest) returns (ColorModeResponse) {}
    rpc Retrieve(ColorModeRetrieveRequest) returns (ColorModeResponse) {}
    rpc Update(ColorModeRequest) returns (ColorModeResponse) {}
}

service CrontabScheduleController {
    rpc Create(CrontabScheduleRequest) returns (CrontabScheduleResponse) {}
    rpc Destroy(CrontabScheduleDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(CrontabScheduleListRequest) returns (CrontabScheduleListResponse) {}
    rpc PartialUpdate(CrontabSchedulePartialUpdateRequest) returns (CrontabScheduleResponse) {}
    rpc Retrieve(CrontabScheduleRetrieveRequest) returns (CrontabScheduleResponse) {}
    rpc Update(CrontabScheduleRequest) returns (CrontabScheduleResponse) {}
}

service ImageModeController {
    rpc Create(ImageModeRequest) returns (ImageModeResponse) {}
    rpc Destroy(ImageModeDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(ImageModeListRequest) returns (ImageModeListResponse) {}
    rpc PartialUpdate(ImageModePartialUpdateRequest) returns (ImageModeResponse) {}
    rpc Retrieve(ImageModeRetrieveRequest) returns (ImageModeResponse) {}
    rpc Update(ImageModeRequest) returns (ImageModeResponse) {}
}

service IntervalScheduleController {
    rpc Create(IntervalScheduleRequest) returns (IntervalScheduleResponse) {}
    rpc Destroy(IntervalScheduleDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(IntervalScheduleListRequest) returns (IntervalScheduleListResponse) {}
    rpc PartialUpdate(IntervalSchedulePartialUpdateRequest) returns (IntervalScheduleResponse) {}
    rpc Retrieve(IntervalScheduleRetrieveRequest) returns (IntervalScheduleResponse) {}
    rpc Update(IntervalScheduleRequest) returns (IntervalScheduleResponse) {}
}

service LedPanelController {
    rpc Create(LedPanelRequest) returns (LedPanelResponse) {}
    rpc Destroy(LedPanelDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(LedPanelListRequest) returns (LedPanelListResponse) {}
    rpc PartialUpdate(LedPanelPartialUpdateRequest) returns (LedPanelResponse) {}
    rpc Retrieve(LedPanelRetrieveRequest) returns (LedPanelResponse) {}
    rpc Update(LedPanelRequest) returns (LedPanelResponse) {}
}

service PatternModeController {
    rpc Create(PatternModeRequest) returns (PatternModeResponse) {}
    rpc Destroy(PatternModeDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(PatternModeListRequest) returns (PatternModeListResponse) {}
    rpc PartialUpdate(PatternModePartialUpdateRequest) returns (PatternModeResponse) {}
    rpc Retrieve(PatternModeRetrieveRequest) returns (PatternModeResponse) {}
    rpc Update(PatternModeRequest) returns (PatternModeResponse) {}
}

service PeriodicTaskController {
    rpc Create(PeriodicTaskRequest) returns (PeriodicTaskResponse) {}
    rpc Destroy(PeriodicTaskDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(PeriodicTaskListRequest) returns (PeriodicTaskListResponse) {}
    rpc PartialUpdate(PeriodicTaskPartialUpdateRequest) returns (PeriodicTaskResponse) {}
    rpc Retrieve(PeriodicTaskRetrieveRequest) returns (PeriodicTaskResponse) {}
    rpc Update(PeriodicTaskRequest) returns (PeriodicTaskResponse) {}
}

service ProjectController {
    rpc Create(ProjectRequest) returns (ProjectResponse) {}
    rpc Destroy(ProjectDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(ProjectListRequest) returns (ProjectListResponse) {}
    rpc PartialUpdate(ProjectPartialUpdateRequest) returns (ProjectResponse) {}
    rpc Retrieve(ProjectRetrieveRequest) returns (ProjectResponse) {}
    rpc Update(ProjectRequest) returns (ProjectResponse) {}
}

service SolarScheduleController {
    rpc Create(SolarScheduleRequest) returns (SolarScheduleResponse) {}
    rpc Destroy(SolarScheduleDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(SolarScheduleListRequest) returns (SolarScheduleListResponse) {}
    rpc PartialUpdate(SolarSchedulePartialUpdateRequest) returns (SolarScheduleResponse) {}
    rpc Retrieve(SolarScheduleRetrieveRequest) returns (SolarScheduleResponse) {}
    rpc Update(SolarScheduleRequest) returns (SolarScheduleResponse) {}
}

service UserController {
    rpc Create(UserRequest) returns (UserResponse) {}
    rpc Destroy(UserDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(UserListRequest) returns (UserListResponse) {}
    rpc PartialUpdate(UserPartialUpdateRequest) returns (UserResponse) {}
    rpc Retrieve(UserRetrieveRequest) returns (UserResponse) {}
    rpc Update(UserRequest) returns (UserResponse) {}
}

service VideoModeController {
    rpc Create(VideoModeRequest) returns (VideoModeResponse) {}
    rpc Destroy(VideoModeDestroyRequest) returns (google.protobuf.Empty) {}
    rpc List(VideoModeListRequest) returns (VideoModeListResponse) {}
    rpc PartialUpdate(VideoModePartialUpdateRequest) returns (VideoModeResponse) {}
    rpc Retrieve(VideoModeRetrieveRequest) returns (VideoModeResponse) {}
    rpc Update(VideoModeRequest) returns (VideoModeResponse) {}
}

// Polymorphism
// Manual
message BaseProductRequest {
    oneof product {
        CoffeeMachineRequest CoffeeMachine = 2;
        LedPanelRequest LedPanel = 3;
    }
}

message BaseProductResponse {
    oneof product {
        CoffeeMachineResponse CoffeeMachine = 2;
        LedPanelResponse LedPanel = 3;
    }
}

message LedModeRequest {
    oneof mode {
        ImageModeRequest ImageMode = 2;
        VideoModeRequest VideoMode = 3;
        ColorModeRequest ColorMode = 4;
        PatternModeRequest PatternMode = 5;
    }
}

message LedModeResponse {
    oneof mode {
        ImageModeResponse ImageMode = 2;
        VideoModeResponse VideoMode = 3;
        ColorModeResponse ColorMode = 4;
        PatternModeResponse PatternMode = 5;
    }
}

message CategoryDestroyRequest {
    int32 id = 1;
}

message CategoryListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message CategoryListResponse {
    repeated CategoryResponse results = 1;
}

message CategoryPartialUpdateRequest {
    optional int32 id = 1;
    string name = 2;
    repeated string _partial_update_fields = 3;
}

message CategoryRequest {
    optional int32 id = 1;
    string name = 2;
}

message CategoryResponse {
    optional int32 id = 1;
    string name = 2;
}

message CategoryRetrieveRequest {
    int32 id = 1;
}

message ClockedScheduleDestroyRequest {
    int32 id = 1;
}

message ClockedScheduleListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message ClockedScheduleListResponse {
    repeated ClockedScheduleResponse results = 1;
}

message ClockedSchedulePartialUpdateRequest {
    optional int32 id = 1;
    repeated string _partial_update_fields = 4;
    string clocked_time = 5;
}

message ClockedScheduleRequest {
    optional int32 id = 1;
    string clocked_time = 4;
}

message ClockedScheduleResponse {
    optional int32 id = 1;
    string clocked_time = 4;
}

message ClockedScheduleRetrieveRequest {
    int32 id = 1;
}

message CoffeeMachineDestroyRequest {
    int32 id = 1;
}

message CoffeeMachineListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message CoffeeMachineListResponse {
    repeated CoffeeMachineResponse results = 1;
}

message CoffeeMachinePartialUpdateRequest {
    optional int32 id = 1;
    string name = 2;
    repeated CategoryRequest categories = 3;
    repeated string _partial_update_fields = 4;
    int32 status = 5;
    optional float heat = 6;
    optional int32 water_level = 7;
    optional int32 used_water_level = 8;
    optional int32 coffee_level = 9;
    optional bool filter_position = 10;
    optional int32 mode_value = 11;
    string ip_address = 12;
    int32 ip_port = 13;
}

message CoffeeMachineRequest {
    optional int32 id = 1;
    string name = 2;
    repeated CategoryRequest categories = 3;
    int32 status = 4;
    optional float heat = 5;
    optional int32 water_level = 6;
    optional int32 used_water_level = 7;
    optional int32 coffee_level = 8;
    optional bool filter_position = 9;
    optional int32 mode_value = 10;
    string ip_address = 11;
    int32 ip_port = 12;
}

message CoffeeMachineResponse {
    optional int32 id = 1;
    string name = 2;
    repeated CategoryResponse categories = 3;
    int32 status = 4;
    optional float heat = 5;
    optional int32 water_level = 6;
    optional int32 used_water_level = 7;
    optional int32 coffee_level = 8;
    optional bool filter_position = 9;
    optional int32 mode_value = 10;
    optional int32 polymorphic_ctype = 11;
    string ip_address = 12;
    int32 ip_port = 13;
}

message CoffeeMachineRetrieveRequest {
    int32 id = 1;
}

message ColorModeDestroyRequest {
    int32 id = 1;
}

message ColorModeListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message ColorModeListResponse {
    repeated ColorModeResponse results = 1;
}

message ColorModePartialUpdateRequest {
    optional int32 id = 1;
    string name = 2;
    repeated string _partial_update_fields = 3;
    optional string color = 4;
}

message ColorModeRequest {
    optional int32 id = 1;
    string name = 2;
    optional string color = 3;
}

message ColorModeResponse {
    optional int32 id = 1;
    string name = 2;
    optional string color = 3;
    optional int32 polymorphic_ctype = 4;
}

message ColorModeRetrieveRequest {
    int32 id = 1;
}

message CrontabScheduleDestroyRequest {
    int32 id = 1;
}

message CrontabScheduleListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message CrontabScheduleListResponse {
    repeated CrontabScheduleResponse results = 1;
}

message CrontabSchedulePartialUpdateRequest {
    optional int32 id = 1;
    repeated string _partial_update_fields = 4;
    optional string minute = 5;
    optional string hour = 6;
    optional string day_of_month = 7;
    optional string month_of_year = 8;
    optional string day_of_week = 9;
    optional string timezone = 10;
}

message CrontabScheduleRequest {
    optional int32 id = 1;
    optional string minute = 4;
    optional string hour = 5;
    optional string day_of_month = 6;
    optional string month_of_year = 7;
    optional string day_of_week = 8;
    optional string timezone = 9;
}

message CrontabScheduleResponse {
    optional int32 id = 1;
    optional string minute = 4;
    optional string hour = 5;
    optional string day_of_month = 6;
    optional string month_of_year = 7;
    optional string day_of_week = 8;
    optional string timezone = 9;
}

message CrontabScheduleRetrieveRequest {
    int32 id = 1;
}

message ImageModeDestroyRequest {
    int32 id = 1;
}

message ImageModeListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message ImageModeListResponse {
    repeated ImageModeResponse results = 1;
}

message ImageModePartialUpdateRequest {
    optional int32 id = 1;
    string name = 2;
    repeated string _partial_update_fields = 3;
    string image = 4;
    optional string image_low_pixel = 5;
}

message ImageModeRequest {
    optional int32 id = 1;
    string name = 2;
    string image = 3;
    optional string image_low_pixel = 4;
}

message ImageModeResponse {
    optional int32 id = 1;
    string name = 2;
    string image = 3;
    optional string image_low_pixel = 4;
    optional int32 polymorphic_ctype = 5;
}

message ImageModeRetrieveRequest {
    int32 id = 1;
}

message IntervalScheduleDestroyRequest {
    int32 id = 1;
}

message IntervalScheduleListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message IntervalScheduleListResponse {
    repeated IntervalScheduleResponse results = 1;
}

message IntervalSchedulePartialUpdateRequest {
    optional int32 id = 1;
    repeated string _partial_update_fields = 4;
    int32 every = 5;
    string period = 6;
}

message IntervalScheduleRequest {
    optional int32 id = 1;
    int32 every = 4;
    string period = 5;
}

message IntervalScheduleResponse {
    optional int32 id = 1;
    int32 every = 4;
    string period = 5;
}

message IntervalScheduleRetrieveRequest {
    int32 id = 1;
}

message LedPanelDestroyRequest {
    int32 id = 1;
}

message LedPanelListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message LedPanelListResponse {
    repeated LedPanelResponse results = 1;
}

message LedPanelPartialUpdateRequest {
    optional int32 id = 1;
    LedModeRequest mode = 2;
    string name = 3;
    repeated CategoryRequest categories = 4;
    repeated string _partial_update_fields = 5;
    int32 status = 6;
    optional double brightness = 7;
    string ip_address = 8;
    int32 ip_port = 9;
}

message LedPanelRequest {
    optional int32 id = 1;
    LedModeRequest mode = 2;
    string name = 3;
    repeated CategoryRequest categories = 4;
    int32 status = 5;
    optional double brightness = 6;
    string ip_address = 7;
    int32 ip_port = 8;
}

message LedPanelResponse {
    optional int32 id = 1;
    LedModeResponse mode = 2;
    string name = 3;
    repeated CategoryResponse categories = 4;
    int32 status = 5;
    optional double brightness = 6;
    optional int32 polymorphic_ctype = 7;
    string ip_address = 8;
    int32 ip_port = 9;
}

message LedPanelRetrieveRequest {
    int32 id = 1;
}

message PatternModeDestroyRequest {
    int32 id = 1;
}

message PatternModeListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message PatternModeListResponse {
    repeated PatternModeResponse results = 1;
}

message PatternModePartialUpdateRequest {
    optional int32 id = 1;
    string name = 2;
    repeated string _partial_update_fields = 3;
    double fps = 4;
    double blink = 5;
    repeated string palette = 6;
}

message PatternModeRequest {
    optional int32 id = 1;
    string name = 2;
    double fps = 3;
    double blink = 4;
    repeated string palette = 5;
}

message PatternModeResponse {
    optional int32 id = 1;
    string name = 2;
    double fps = 3;
    double blink = 4;
    repeated string palette = 5;
    optional int32 polymorphic_ctype = 6;
}

message PatternModeRetrieveRequest {
    int32 id = 1;
}

message PeriodicTaskDestroyRequest {
    string name = 1;
}

message PeriodicTaskListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message PeriodicTaskListResponse {
    repeated PeriodicTaskResponse results = 1;
}

message PeriodicTaskPartialUpdateRequest {
    string name = 1;
    string task = 2;
    optional IntervalScheduleRequest interval = 3;
    optional CrontabScheduleRequest crontab = 4;
    optional SolarScheduleRequest solar = 5;
    optional ClockedScheduleRequest clocked = 6;
    repeated string _partial_update_fields = 7;
    optional string kwargs = 8;
    optional bool enabled = 9;
}

message PeriodicTaskRequest {
    string name = 1;
    string task = 2;
    optional IntervalScheduleRequest interval = 3;
    optional CrontabScheduleRequest crontab = 4;
    optional SolarScheduleRequest solar = 5;
    optional ClockedScheduleRequest clocked = 6;
    optional string kwargs = 7;
    optional bool enabled = 8;
}

message PeriodicTaskResponse {
    string name = 1;
    string task = 2;
    optional IntervalScheduleResponse interval = 3;
    optional CrontabScheduleResponse crontab = 4;
    optional SolarScheduleResponse solar = 5;
    optional ClockedScheduleResponse clocked = 6;
    optional string kwargs = 7;
    optional bool enabled = 8;
}

message PeriodicTaskRetrieveRequest {
    string name = 1;
}

message ProjectDestroyRequest {
    int32 id = 1;
}

message ProjectListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message ProjectListResponse {
    repeated ProjectResponse results = 1;
}

message ProjectPartialUpdateRequest {
    optional int32 id = 1;
    repeated BaseProductRequest products = 2;
    repeated string _partial_update_fields = 3;
    string pub_date = 4;
    string name = 5;
    UserRequest owner = 6;
}

message ProjectRequest {
    optional int32 id = 1;
    repeated BaseProductRequest products = 2;
    string pub_date = 3;
    string name = 4;
    UserRequest owner = 5;
}

message ProjectResponse {
    optional int32 id = 1;
    repeated BaseProductResponse products = 2;
    string pub_date = 3;
    string name = 4;
    UserResponse owner = 5;
}

message ProjectRetrieveRequest {
    int32 id = 1;
}

message SolarScheduleDestroyRequest {
    int32 id = 1;
}

message SolarScheduleListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message SolarScheduleListResponse {
    repeated SolarScheduleResponse results = 1;
}

message SolarSchedulePartialUpdateRequest {
    optional int32 id = 1;
    repeated string _partial_update_fields = 4;
    string event = 5;
    double latitude = 6;
    double longitude = 7;
}

message SolarScheduleRequest {
    optional int32 id = 1;
    string event = 4;
    double latitude = 5;
    double longitude = 6;
}

message SolarScheduleResponse {
    optional int32 id = 1;
    string event = 4;
    double latitude = 5;
    double longitude = 6;
}

message SolarScheduleRetrieveRequest {
    int32 id = 1;
}

message UserDestroyRequest {
    int32 id = 1;
}

message UserListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message UserListResponse {
    repeated UserResponse results = 1;
}

message UserPartialUpdateRequest {
    optional int32 id = 1;
    repeated string _partial_update_fields = 2;
    string username = 6;
    optional string first_name = 7;
    optional string last_name = 8;
    optional string email = 9;
    repeated int32 groups = 13;
}

message UserRequest {
    optional int32 id = 1;
    string username = 5;
    optional string first_name = 6;
    optional string last_name = 7;
    optional string email = 8;
    repeated int32 groups = 12;
}

message UserResponse {
    optional int32 id = 1;
    string username = 5;
    optional string first_name = 6;
    optional string last_name = 7;
    optional string email = 8;
    repeated int32 groups = 12;
}

message UserRetrieveRequest {
    int32 id = 1;
}

message VideoModeDestroyRequest {
    int32 id = 1;
}

message VideoModeListRequest {
    optional google.protobuf.Struct _filters = 1;
}

message VideoModeListResponse {
    repeated VideoModeResponse results = 1;
}

message VideoModePartialUpdateRequest {
    optional int32 id = 1;
    string name = 2;
    repeated string _partial_update_fields = 3;
    string video = 4;
    optional string video_low_pixel = 5;
}

message VideoModeRequest {
    optional int32 id = 1;
    string name = 2;
    string video = 3;
    optional string video_low_pixel = 4;
}

message VideoModeResponse {
    optional int32 id = 1;
    string name = 2;
    string video = 3;
    optional string video_low_pixel = 4;
    optional int32 polymorphic_ctype = 5;
}

message VideoModeRetrieveRequest {
    int32 id = 1;
}

